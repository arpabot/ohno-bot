# ohno-rewrite
このリポジトリは Discord の読み上げ Bot [ohno](https://github.com/arpabot/ohno) を TypeScript で書き換えたものです

現在，仕様が決まっておらず動作が不安定です

# コマンドのヘルプ

## /join
- ボイスチャンネルに参加します
- 権限がない場合は参加できません

## /leave
- ボイスチャンネルから退出します
- 同じボイスチャンネルにいない場合は実行できません

## /dict put <単語> <読み>
- サーバー辞書を編集します
- 単語が重複している場合は追加できません

## /dict delete <単語>
- サーバー辞書を削除します
- 単語が存在しない場合はエラーを返します

## /dict list
- サーバー辞書のリストを CSV で送信します
- 一応 Excel で parse できるはず

## /user-settings speaker <話者>
- 話者を設定します
- 現在日本語ネイティブの話者しか対応していません

## /user-settings speed <数値>
- 読み上げるスピードを 0.5 から 2.0 の数値で指定します
- デフォルトは 1 です

## /help [コマンド名]
- 簡易的なヘルプを見られます

# 思想とモチベーション

## 言語を Rust から TypeScript に変えた理由
誤字ではないです．普通逆だろと思いましたよね．

これには私自身のスキルに問題があって，もっと Rust のことを深く理解してから Bot を作成したいと思ったからです．

## モチベーション
なぜ TypeScript なのかというと，比較的新しい薄い Discord API Wrapper の @discordjs/next (@discordjs/{core, ws, rest, util}) を推したいからです．

これらのパッケージは（おそらく，動かそうと思えば）どのランタイムでも動くからです．

まあ Bot の用途によってどの情報が欲しいとか，どの情報が不要とかあるじゃないですか， discord.js 本体は全ての情報をキャッシュしたりとかするわけですよ．

これらのパッケージにはキャッシュとかいう概念もありませんから，自分で実装するとかそういうことをするわけで，これができるとパフォーマンスの面でも嬉しいです．